!function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=1)}([function(e,t,n){"use strict";e.exports={getNewNumericId:function(){return Math.floor((new Date).getTime()/1e3)}}},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=l(n(2)),r=l(n(3)),a=l(n(4)),i=l(n(5)),u=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}var c=document.querySelector("#page"),s=d.default.BtnAddSection("docRoot");function p(e,t){var n=[],r=!0;switch(t){case"sec":var a=d.default.BtnAddSubsection(e);a.addEventListener("click",m),n.push(a),(i=d.default.BtnAddParagraph(e)).addEventListener("click",g),n.push(i),(l=d.default.BtnRemoveElement(e,"Delete this section, ATTENTION all subsection and paragraphd will be also deleted","Delete Section")).addEventListener("click",v),n.push(l);break;case"subsec":var i;(i=d.default.BtnAddParagraph(e)).addEventListener("click",g),n.push(i),(l=d.default.BtnRemoveElement(e,"Delete this subsection, ATTENTION all paragraphd will be also deleted","Delete SubSection")).addEventListener("click",v),n.push(l);break;case"p":var l;(l=d.default.BtnRemoveElement(e,"Delete this paragraph","Delete paragraph")).addEventListener("click",v),n.push(l);break;default:r=!1}if(!r)return console.log("invalid type in actionBtns().... check input file"),"";if(n.length<1)return console.log("no btns in array....."),"";var o=document.createElement("div");o.classList="chpBtnWrapper";for(var u=0;u<n.length;u++)o.appendChild(n[u]);return o}function f(e,t){var n=r.default.newSection(e,t);n.htmlElem.appendChild(p(n.id,"sec")),n.htmlElem.querySelector("input").addEventListener("blur",function(e){h(e,"createUpdate")},!1),document.querySelector("#"+n.parentTarget).appendChild(n.htmlElem)}function m(e,t){var n=a.default.newSubsection(e,t);n.htmlElem.appendChild(p(n.id,"subsec")),n.htmlElem.querySelector("input").addEventListener("blur",function(e){h(e,"createUpdate")},!1),document.querySelector("#"+n.parentTarget).querySelector(".cnt").appendChild(n.htmlElem)}function g(e,t){var n=i.default.newParagraph(e,t);n.htmlElem.appendChild(p(n.id,"p")),n.htmlElem.querySelector("textarea").addEventListener("blur",function(e){h(e,"createUpdate")},!1),document.querySelector("#"+n.parentTarget).querySelector(".cnt").appendChild(n.htmlElem)}function v(e){}function h(e,t){if(null===t||"createUpdate"!=t&&"delete"!=t)return!1;var n=e.target.parentNode,r=null,a=null,i=null;switch(n.nodeName){case"H2":r="sec",i=n.closest("div.wrapper").getAttribute("id"),a=n.closest("div.wrapper").parentNode.getAttribute("id");break;case"H3":r="subsec",i=n.closest("div.wrapper").getAttribute("id"),a=e.target.closest("div.wrapper").parentNode.closest("div.wrapper").getAttribute("id");break;case"P":r="p",i=n.getAttribute("id"),a=e.target.closest("div.wrapper").getAttribute("id")}"delete"==t&&(i=e.target.getAttribute("data-delete-target"),console.log(void 0===i?"undefined":o(i)),r=0==i.indexOf("sec")?"sec":0==i.indexOf("subsec")?"subsec":0==i.indexOf("p")?"p":null);var l={action:t,elData:{parentId:a,id:i,type:r,cnt:e.target.value,pos:0}};u.default.sendDataToServer("/simpleDocBuilder/builder.php",l)}s.addEventListener("click",f),c.appendChild(s),document.addEventListener("DOMContentLoaded",function(e){var t={data:null};u.default.loadDocumentData("/simpleDocBuilder/builder.php",t);var n=setInterval(function(){"null"!=typeof t.data&&void 0!==t.data&&(function(e){console.log(e);var t=e.elements;console.log(t),document.getElementById("docTitle").setAttribute("value",e.docTitle),t.forEach(function(e){switch(e.type){case"sec":f(null,e);break;case"subsec":m(null,e);break;case"p":g(null,e)}}),document.querySelectorAll("textarea").forEach(function(e){i.default.auto_grow(e)})}(t.data),clearInterval(n))},100)})},function(e,t,n){"use strict";function a(e,t,n,r,a){var i=document.createElement("button");return i.classList=t,i.setAttribute("data-parent-target",e),i.setAttribute("title",n),i.setAttribute("name",r),i.innerHTML=a,i}e.exports={BtnAddSection:function(e,t,n,r){return a(e,t=void 0!==t&&"string"==typeof t?t:"actionBtn section",n=void 0!==n&&"string"==typeof n?n:"Add Section",n.toLowerCase().replace(" ","_"),r=void 0!==r&&"string"==typeof r?r:"Add Section")},BtnAddSubsection:function(e,t,n,r){return a(e,t=void 0!==t&&"string"==typeof t?t:"actionBtn subsection",n=void 0!==n&&"string"==typeof n?n:"Add SubSection",n.toLowerCase().replace(" ","_"),r=void 0!==r&&"string"==typeof r?r:"Add SubSection")},BtnAddParagraph:function(e,t,n,r){return a(e,t=void 0!==t&&"string"==typeof t?t:"actionBtn paragraph",n=void 0!==n&&"string"==typeof n?n:"Add Paragraph",n.toLowerCase().replace(" ","_"),r=void 0!==r&&"string"==typeof r?r:"Add Paragraph")},BtnRemoveElement:function(e,t,n){var r=document.createElement("button");return r.classList="actionBtn delete",r.setAttribute("data-delete-target",e),r.setAttribute("name","Delete"),r.setAttribute("title",t),r.innerHTML=n,r}}},function(e,t,n){"use strict";var d=n(0);e.exports={newSection:function(e,t){var n=null,r=null,a="";if(null!==e?(n=e.target.getAttribute("data-parent-target"),r="sec"+d.getNewNumericId()):(n=t.parentId,r=t.id,a=t.cnt),null===n||null===r)return!1;var i=document.createElement("div");i.id=r,i.classList="sectionWrapper wrapper";var l=document.createElement("h2");l.classList="sectionTitle";var o=document.createElement("input");o.setAttribute("type","text"),""!=a&&o.setAttribute("value",a),o.setAttribute("placeholder","Section title"),l.appendChild(o),i.appendChild(l);var u=document.createElement("div");return u.id=i.id+"-cnt"+d.getNewNumericId(),u.classList="cnt",i.appendChild(u),{parentTarget:n,id:r,htmlElem:i}}}},function(e,t,n){"use strict";var c=n(0);e.exports={newSubsection:function(e,t){var n=null,r=null,a="",i=null;null!==e?(n=e.target.getAttribute("data-parent-target"),r="subsec"+c.getNewNumericId(),i=document.getElementById(n)):(n=t.parentId,r=t.id,a=t.cnt,i=document.getElementById(n).getElementsByClassName("cnt")[0]);if(null===n||null===r||null===i)return!1;var l=document.createElement("div");l.classList="subSection wrapper",l.id=r;var o=document.createElement("h3");o.classList="subSectionTitle";var u=document.createElement("input");u.setAttribute("type","text"),""!=a&&u.setAttribute("value",a),u.setAttribute("placeholder","SubSection title"),o.appendChild(u),l.appendChild(o);var d=document.createElement("div");return d.id=l.id+"-subCnt",d.classList="cnt",l.appendChild(d),{parentTarget:n,id:r,htmlElem:l}}}},function(e,t,n){"use strict";var o=n(0);e.exports={newParagraph:function(e,t){var n=null,r=null,a="";null!==e?(n=e.target.getAttribute("data-parent-target"),r="p"+o.getNewNumericId(),document.getElementById(n)):(n=t.parentId,r=t.id,a=t.cnt,document.getElementById(n).getElementsByClassName("cnt")[0]);if(null===n||null===r)return!1;var i=document.createElement("p");i.id=r;var l=document.createElement("textarea");return""!=a&&(l.innerHTML=a),l.setAttribute("placeholder","Insert your text here..."),l.addEventListener("keyup",this.auto_grow),i.appendChild(l),{parentTarget:n,id:r,htmlElem:i}},auto_grow:function(e){void 0!==e.style?(e.style.height="5px",e.style.height=e.scrollHeight+"px"):void 0!==e.originalTarget.style&&(e.originalTarget.style.height="5px",e.originalTarget.style.height=e.originalTarget.scrollHeight+"px")}}},function(e,t,n){"use strict";e.exports={loadDocumentData:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);t.data=e}},n.open("GET",e,!0),n.send()},sendDataToServer:function(e,t){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&console.log(n.responseText)};var r=JSON.stringify(t);n.send(r)}}}]);